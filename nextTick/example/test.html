<!DOCTYPE html>
<html lang="en">
<body>
  <script>
    console.log('同步任务1')
    Promise.resolve().then(() => {
      console.log('微任务1');
      Promise.resolve().then(() => {
        console.log('微任务2');
        Promise.resolve().then(() => {
          console.log('微任务3');
        })
      })
    })
    setTimeout(() => {
      console.log('宏任务1');
    }, 0)
    console.log('同步任务2')
  </script>
  <script>
    // 一个script相当于一个新的宏任务, 这里用来模拟下一次事件循环
    console.log('下一个宏任务')
  </script>
</body>
</html>